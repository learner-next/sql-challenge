# æ›´æ–° - æ›´æ–°è¡¨

## ç®€ä»‹

åœ¨åˆ›å»ºè¡¨ä¹‹åï¼Œæˆ‘ä»¬å¯ä»¥è¿›è¡Œæ•°æ®è¡¨çš„æ›´æ–°æ“ä½œã€‚æ›´æ–°æ“ä½œå¯ä»¥åˆ†ä¸ºä¸¤ç§ï¼Œä¸€ç§æ˜¯æ›´æ–°è¡¨çš„ç»“æ„ï¼Œå¦ä¸€ç§æ˜¯æ›´æ–°è¡¨çš„æ•°æ®ã€‚

éšç€æˆ‘ä»¬çš„å¼€å‘ï¼Œæˆ‘ä»¬å¯èƒ½ä¼šå‘ç°ä¹‹å‰åˆ›å»ºçš„è¡¨ç»“æ„ä¸å¤Ÿç”¨äº†ï¼Œéœ€è¦å¯¹è¡¨ç»“æ„è¿›è¡Œæ›´æ–°ã€‚
æ¯”å¦‚ï¼Œæˆ‘ä»¬ä¹‹å‰åˆ›å»ºçš„ `user` è¡¨ï¼Œåªæœ‰ `name` å’Œ `age` ä¸¤ä¸ªå­—æ®µï¼Œç°åœ¨æˆ‘ä»¬éœ€è¦å¢åŠ ä¸€ä¸ª `email` å­—æ®µï¼Œé‚£ä¹ˆæˆ‘ä»¬å°±éœ€è¦å¯¹ `user` è¡¨è¿›è¡Œæ›´æ–°ã€‚

### æ›´æ–°è¡¨ç»“æ„

æ›´æ–°è¡¨ç»“æ„ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ `alter table` è¯­å¥ï¼Œè¯­æ³•å¦‚ä¸‹ï¼š

```sql
alter table <è¡¨å> add [column] < å­—æ®µå > < å­—æ®µç±»å‹ >;
```

#### å¢åŠ å­—æ®µ

æ¯”å¦‚ï¼Œæˆ‘ä»¬è¦ç»™ `user` è¡¨å¢åŠ ä¸€ä¸ª `email` å­—æ®µï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š

```sql
alter table user add email varchar(255);
```

#### é‡å‘½åå­—æ®µ

å¦‚æœæˆ‘ä»¬è¦å°† `email` å­—æ®µé‡å‘½åä¸º `mail` å­—æ®µï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š

```sql
alter table user rename email to mail varchar(255);
```

#### ä¿®æ”¹å­—æ®µ

å¦‚æœæˆ‘ä»¬è¦ä¿®æ”¹ email å­—æ®µçš„ç±»å‹ä» varchar åˆ° text ç±»å‹ï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š

```sql
alter table user modify email text;
```

### ä¿®æ”¹å­—æ®µå¢åŠ çº¦æŸ

å¦‚æœæˆ‘ä»¬è¦ç»™ email å­—æ®µå¢åŠ  not null çº¦æŸï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š

```sql
alter table user modify email text not null;
```

### æ›´æ–°çº¦æŸ

å¦‚æœæˆ‘ä»¬è¦å°† email å­—æ®µçš„ not null çº¦æŸä¿®æ”¹ä¸º null çº¦æŸï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š

```sql
alter table user modify email text null;
```

å¦‚æœæˆ‘ä»¬è¦ä¿®æ”¹ä¸»é”®çº¦æŸï¼Œæ¯”å¦‚ä» id å­—æ®µä¿®æ”¹ä¸º user_id å­—æ®µï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š

```sql
alter table user modify id int not null, modify user_id int primary key not null auto_increment;
```

#### åˆ é™¤å­—æ®µ

å¦‚æœæˆ‘ä»¬è¦åˆ é™¤ email å­—æ®µï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š

```sql
alter table user drop email;
```

## ç¤ºä¾‹

å‡è®¾æˆ‘ä»¬å·²ç»æœ‰äº†ä¸€å¼ åä¸º `student` è¡¨ï¼Œè¡¨ä¸­åŒ…å«å­¦ç”Ÿçš„ `name`ï¼Œ`age`ï¼Œ`gender` ç­‰å­—æ®µã€‚

`student` è¡¨å¦‚ä¸‹ï¼š
| name | age | gender |
| ---- | --- | ------ |
| å°æ˜ | 20 | ç”· |
| å°ä¸½ | 18 | å¥³ |
| å°ç‹ | 28 | ç”· |
| å°æ | 36 | ç”· |

ç°åœ¨æˆ‘ä»¬éœ€è¦ç»™ `student` è¡¨å¢åŠ ä¸€ä¸ª `address` å’Œ `birthday` å­—æ®µï¼Œé‚£ä¹ˆæˆ‘ä»¬å¯ä»¥è¿™æ ·å†™ï¼š

```sql
alter table student add address varchar(255), add birthday date;
```

æ–°çš„è¡¨ç»“æ„å¦‚ä¸‹ï¼š

| name | age | gender | birthday | address |
| ---- | --- | ------ | -------- | ------- |

æ¥ä¸‹æ¥è¯·å®Œæˆä»¥ä¸‹çš„æŒ‘æˆ˜å§ï½

## æŒ‘æˆ˜

å‡è®¾æˆ‘ä»¬æœ‰ä¸€å¼ åä¸º `user` è¡¨ï¼Œè¡¨ä¸­åŒ…å«ç”¨æˆ·çš„ `id`ï¼Œ`name`ï¼Œ`age`ï¼Œ`gender`ï¼Œ`email` ç­‰å­—æ®µã€‚
ç°åœ¨è¯·ä½ å¢åŠ ä¸€ä¸ª `address` å­—æ®µï¼Œç±»å‹ä¸º `varchar (255)`ï¼Œå¹¶ä¸”å°† `email` å­—æ®µçš„ç±»å‹ä¿®æ”¹ä¸º `text` ç±»å‹å§ğŸŒˆï½
å¤‡æ³¨ï¼š** è¯¥åœ¨çº¿è¿è¡Œåªæ”¯æŒå•åˆ—æ·»åŠ æˆ–ä¿®æ”¹ï¼ŒåŒæ—¶ä¹Ÿè¦åŠ ä¸Š COLUMN å…³é”®å­— **
PSï¼ˆæ•°æ®è¡¨å·²ç»åˆ›å»ºå¥½äº†ï¼Œä½ å¯ä»¥åœ¨å³ä¸‹ä¾§æŸ¥çœ‹æ•°æ®è¡¨ä¸­æŸ¥çœ‹æ•°æ®ä»¥åŠå…¶ä»–ç›¸å…³ä¿¡æ¯ï¼‰
